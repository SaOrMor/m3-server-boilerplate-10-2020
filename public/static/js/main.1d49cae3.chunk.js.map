{"version":3,"sources":["lib/auth-service.js","context/auth-context.js","components/Navbar.js","pages/campaignSetup/CampaignSetup.js","pages/advertiserProfile/AdvertiserProfile.js","pages/statistics/Statistics.js","pages/Signup.js","pages/Login.js","pages/Private.js","components/AnonRoute.js","components/PrivateRoute.js","pages/editCampaign/EditCampaign.js","App.js","index.js"],"names":["authService","this","auth","axios","create","baseURL","process","withCredentials","email","password","post","then","response","data","get","React","createContext","Consumer","Provider","AuthProvider","state","isLoggedIn","isLoading","user","signup","setState","catch","err","login","logout","console","log","me","value","props","children","Component","withAuth","WrappedComponent","className","to","id","onClick","firstname","lastname","companyname","campaignname","startingdate","endingdate","budget","image","age","gender","country","interests","operatingsystem","education","jobfunction","handleChange","event","target","name","handleFormSubmit","preventDefault","_id","history","push","handleFileUpload","e","files","file","uploadData","FormData","append","secure_url","onSubmit","type","onChange","src","campaigns","map","style","width","height","alt","deleteCampaign","match","params","delete","campaignId","routeProps","ComponentToShow","component","exact","path","render","campaign","getOneCampaign","apiResponse","defaultValue","Math","floor","random","App","AdvertiserProfile","CampaignSetup","EditCampaign","Statistics","Signup","Login","Private","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.1d49cae3.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nclass AuthService {\r\n  constructor() {\r\n    this.auth = axios.create({\r\n      // baseURL: \"http://localhost:5000\",\r\n      baseURL: process.env.REACT_APP_API_URL,\r\n      withCredentials: true\r\n    });\r\n  }\r\n\r\n  signup( email, password ) {\r\n    const pr = this.auth\r\n      .post(\"/auth/signup\", { email, password })\r\n      .then((response) => response.data);\r\n      // .then(({ data }) => data); // Shorter way of `.then((response) => response.data);`\r\n\r\n    return pr;\r\n  }\r\n\r\n  login( email, password ) {\r\n    const pr = this.auth\r\n      .post(\"/auth/login\", { email, password })\r\n      .then((response) => response.data);\r\n      \r\n    return pr;\r\n  }\r\n\r\n  logout() {\r\n    const pr = this.auth\r\n      .get(\"/auth/logout\")\r\n      .then((response) => response.data);\r\n\r\n    return pr;\r\n  }\r\n\r\n  me() {\r\n    const pr = this.auth\r\n      .get(\"/auth/me\")\r\n      .then((response) => response.data);\r\n\r\n    return pr;\r\n  }\r\n}\r\n\r\n\r\nconst authService = new AuthService();\r\n\r\nexport default authService;\r\n\r\n// Service is a set of methods abstracted and placed into a class, out of which we create one instance.\r\n// In the above case, all axios request calls are abstracted into methods.\r\n","import React from 'react';\r\nimport authService from './../lib/auth-service';\r\n\r\nconst { Consumer, Provider } = React.createContext();\r\n\r\n\r\nclass AuthProvider extends React.Component {\r\n  state = {\r\n    isLoggedIn: false,\r\n    isLoading: true,\r\n    user: null\r\n  }\r\n\r\n  componentDidMount () {\r\n    authService.me()\r\n     .then((user) => this.setState({ isLoggedIn: true, user: user, isLoading: false }))\r\n     .catch((err) => this.setState({ isLoggedIn: false, user: null, isLoading: false }));\r\n  }\r\n\r\n  signup = (email, password) => {\r\n    authService.signup( email, password )\r\n      .then((user) => this.setState({ isLoggedIn: true, user }) )\r\n      .catch((err) => {\r\n        this.setState({ isLoggedIn: false, user: null });\r\n      })\r\n  }\r\n\r\n  login = (email, password) => {\r\n    authService.login( email, password )\r\n      .then((user) => this.setState({ isLoggedIn: true, user }))\r\n      .catch((err) => {\r\n        this.setState({ isLoggedIn: false, user: null });\r\n      })\r\n  }\r\n\r\n  logout = () => {\r\n    authService.logout()\r\n      .then(() => this.setState({ isLoggedIn: false, user: null }))\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n\r\n  render() {\r\n    const { isLoggedIn, isLoading, user } = this.state;\r\n    const { signup, login, logout } = this;\r\n\r\n    if (isLoading) return <p>Loading</p>;\r\n\r\n    return(\r\n      <Provider value={{ isLoggedIn, isLoading, user, signup, login, logout }}  >\r\n        {this.props.children}\r\n      </Provider>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\n// HOC that converts regular component into a Consumer\r\nconst withAuth = (WrappedComponent) => {\r\n  \r\n  return class extends React.Component {\r\n    render() {\r\n      return(\r\n        <Consumer>\r\n          { (value) => {\r\n            const { isLoggedIn, isLoading, user, signup, login, logout } = value;\r\n\r\n            return (<WrappedComponent \r\n                      {...this.props}\r\n                      isLoggedIn={isLoggedIn} \r\n                      isLoading={isLoading} \r\n                      user={user} \r\n                      signup={signup} \r\n                      login={login} \r\n                      logout={logout}\r\n                    />)\r\n\r\n          } }\r\n        </Consumer>\r\n        )\r\n    }\r\n}\r\n}\r\n\r\n\r\nexport { AuthProvider, withAuth }","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { withAuth } from './../context/auth-context';\r\n\r\nclass Navbar extends Component {\r\n  render() {\r\n    // const { user, logout, isLoggedin } = this.props;\r\n    return (\r\n      <nav className=\"navbar\">\r\n        \r\n        \r\n        {this.props.isLoggedIn ? (\r\n          <>\r\n          <Link to={'/'} id='home-btn'>\r\n          <h4 className= \"navText\">Campaigns</h4>\r\n        </Link>\r\n\r\n            <button className=\"logout-button\" onClick={this.props.logout}>Logout</button>\r\n\r\n           </> \r\n        ) : (\r\n          <>\r\n            <Link to=\"/login\">\r\n              <button className=\"navbar-button\">Login</button>{' '}\r\n            </Link>\r\n            <br />\r\n            <Link to=\"/signup\">\r\n              <button className=\"navbar-button\">Sign Up</button>{' '}\r\n            </Link>\r\n          </>\r\n        )}\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Navbar);\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport {withAuth} from '../../context/auth-context';\r\n\r\n\r\n\r\nclass CampaignSetup extends Component {\r\n  \r\n  state = {\r\n    firstname: '',\r\n    lastname: '',\r\n    companyname: '',\r\n    campaignname: '',\r\n    startingdate: '',\r\n    endingdate: '',\r\n    budget: '',\r\n    image: '',\r\n    age: '',\r\n    gender: '',\r\n    country: '',\r\n    interests: '', \r\n    operatingsystem: '', \r\n    education: '', \r\n    jobfunction: ''\r\n  }\r\n  \r\n\r\n  handleChange = (event) =>{\r\n    const {name, value} = event.target;\r\n    this.setState( { [name]: value} );\r\n  }\r\n\r\n\r\n  handleFormSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const {\r\n      firstname,\r\n      lastname,\r\n      companyname,\r\n      campaignname, \r\n      startingdate, \r\n      endingdate,\r\n      budget,\r\n      image, \r\n      age, \r\n      gender, \r\n      country, \r\n      interests,\r\n      operatingsystem, \r\n      education, \r\n      jobfunction \r\n    } = this.state;\r\n\r\n    axios.post(\r\n      `${process.env.REACT_APP_API_URL}/api/campaign/${this.props.user._id}`, \r\n      { \r\n        firstname, \r\n        lastname, \r\n        companyname, \r\n        campaignname, \r\n        startingdate, \r\n        endingdate, \r\n        budget, \r\n        image,\r\n        age,\r\n        gender, \r\n        country, \r\n        interests, \r\n        operatingsystem, \r\n        education, \r\n        jobfunction \r\n      },\r\n      { withCredentials: true }\r\n      \r\n    )\r\n\r\n    .then( () => {\r\n      this.setState(\r\n      { firstname: '', lastname: '', companyname: '', campaignname: '', startingdate: '', endingdate: '', budget: '', image: '', age: '', gender: '', country: '', interests: '', operatingsystem: '', education: '', jobfunction: '' } \r\n      );\r\n    })\r\n    .catch( (err) => console.log(err) )\r\n    .then(()=> {\r\n      this.props.history.push('/campaign/advertiser')\r\n    })\r\n  }\r\n  \r\n// cloudinary handle function\r\n\r\n  handleFileUpload = (e) => {\r\n    console.log(\"The file to be uploaded is: \", e.target.files);\r\n    const file = e.target.files[0];\r\n\r\n    const uploadData = new FormData();\r\n    // image => this name has to be the same as in the model since we pass\r\n    // req.body to .create() method when creating a new project in '/api/projects' POST route\r\n    uploadData.append(\"image\", file);\r\n\r\n    axios\r\n      .post(`${process.env.REACT_APP_API_URL}/api/upload`, uploadData, {\r\n        withCredentials: true,\r\n      })\r\n      .then((response) => {\r\n        console.log(\"response is: \", response);\r\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state\r\n        this.setState({ image: response.data.secure_url });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error while uploading the file: \", err);\r\n      });\r\n  };\r\n  \r\n  \r\n  \r\n  render() {\r\n    \r\n    return (\r\n      <div className=\"backImage\">\r\n        <form className= \"form\" onSubmit={this.handleFormSubmit}>\r\n\r\n        <label> First name:</label>\r\n        <input type= \"text\" name=\"firstname\" onChange={this.handleChange} value= {this.state.firstname} />\r\n\r\n        <label> Last name:</label>\r\n        <input type= \"text\" name=\"lastname\" onChange={this.handleChange} value= {this.state.lastname} />\r\n\r\n        <label> Company name:</label>\r\n        <input type= \"text\" name=\"companyname\" onChange={this.handleChange} value= {this.state.companyname}/>\r\n\r\n        <label> Campaign name:</label>\r\n        <input type= \"text\" name=\"campaignname\" onChange={this.handleChange} value= {this.state.campaignname} />\r\n\r\n        <label> Startingdate:</label>\r\n        <input type= \"text\" name=\"startingdate\" onChange={this.handleChange} value= {this.state.startingdate} />\r\n\r\n        <label> Endingdate:</label>\r\n        <input type= \"text\" name=\"endingdate\" onChange={this.handleChange} value= {this.state.endingdate} />\r\n\r\n        <label> Budget:</label>\r\n        <input type= \"text\" name=\"budget\" onChange={this.handleChange} value= {this.state.budget} />\r\n\r\n        <label> Image:</label>\r\n        <input type= \"file\" name=\"image\" onChange={this.handleFileUpload}/>\r\n\r\n        <img src={this.state.image} />\r\n\r\n        <label> Age:</label>\r\n        <input type= \"text\" name=\"age\" onChange={this.handleChange} value= {this.state.age} />\r\n\r\n        <label> Gender:</label>\r\n        <input type= \"text\" name=\"gender\" onChange={this.handleChange} value= {this.state.gender} />\r\n\r\n        <label> Country:</label>\r\n        <input type= \"text\" name=\"country\" onChange={this.handleChange} value= {this.state.country} />\r\n\r\n        <label> Interests:</label>\r\n        <input type= \"text\" name=\"interests\" onChange={this.handleChange} value= {this.state.interests} />\r\n\r\n        <label> Operatingsystem:</label>\r\n        <input type= \"text\" name=\"operatingsystem\" onChange={this.handleChange} value= {this.state.operatingsystem} />\r\n\r\n        <label> Education:</label>\r\n        <input type= \"text\" name=\"education\" onChange={this.handleChange} value= {this.state.education} />\r\n\r\n        <label> Jobfunction:</label>\r\n        <input type= \"text\" name=\"jobfunction\" onChange={this.handleChange} value= {this.state.jobfunction} />\r\n\r\n\r\n\r\n        <button type=\"submit\">Create Campaign</button>\r\n        \r\n        \r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default withAuth(CampaignSetup);","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport {withAuth} from '../../context/auth-context';\r\nimport {Link} from 'react-router-dom';\r\n\r\n class AdvertiserProfile extends Component {\r\n    \r\n    state = {\r\n        user: {}\r\n    }    \r\n    componentDidMount (){\r\n        console.log(\"this.props.user._id\", this.props.user._id )\r\n        axios.get(\r\n            `${process.env.REACT_APP_API_URL}/api/users/${this.props.user._id}`)\r\n    .then( (response) => {\r\n        console.log(\"response data axios get advertiser\", response.data)\r\n    this.setState({ user: response.data})\r\n    \r\n    })\r\n    .catch( (err) => console.log(err));\r\n}\r\n\r\n    render() {\r\n        console.log(\"our campaigns\", this.state.user)\r\n        return (\r\n            <div className=\"backImage\">\r\n            <h2> Campaigns: </h2>\r\n                {this.state.user.campaigns && this.state.user.campaigns.map((campaigns) => {\r\n                    return(\r\n                        \r\n                        <div className= \"form campaignConteiner\" key={campaigns._id}>\r\n                            <Link to={'/campaign/statistics/' + campaigns._id}>\r\n                                <h2> Campaign: {campaigns.campaignname}</h2>\r\n                                <h2>Creator:{campaigns.firstname} {campaigns.lastname}</h2>\r\n                                <h2>Company: {campaigns.companyname}</h2>\r\n                                <h2> Date:{campaigns.startingdate} {campaigns.endingdate}</h2>\r\n                                <h2>Creativity:</h2>\r\n                                <img\r\n                                style={{ width: \"150px\", height: \"100px\"}}\r\n                                src={campaigns.image}\r\n                                alt=\"creativity for advertising\" />\r\n                                <h2>Target age:  {campaigns.age}</h2>\r\n                                <h2> Gender: {campaigns.gender}</h2>\r\n                                <h2>Country: {campaigns.country}</h2>\r\n                                <h2>Target interest: {campaigns.interests}</h2>\r\n                                <h2>Operating system: {campaigns.operatingsystem}</h2>\r\n                                <h2>Education:{campaigns.education}</h2>\r\n                                <h2>Job function: {campaigns.jobfunction}</h2>\r\n                            </Link>\r\n                            <Link className=\"buttons\" to={'/campaign/edit/' + campaigns._id}> Edit campaign</Link>\r\n                           \r\n                            <Link className=\"buttons\" to={'/campaignSetup'}>\r\n                            Create new Campaign\r\n                        </Link>\r\n                        </div>\r\n                        \r\n                    )\r\n                })\r\n                }\r\n                \r\n            </div>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\n\r\nexport default withAuth(AdvertiserProfile);","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\nimport {withAuth} from '../../context/auth-context';\r\nimport {Link} from 'react-router-dom';\r\n\r\nclass Statistics extends Component {\r\n    state = {\r\n        campaigns: []\r\n    }\r\n\r\n    componentDidMount (){\r\n        console.log(\"user id from props\", this.props.user._id )\r\n        const campaignId = this.props.match.params.id;\r\n        console.log(campaignId);\r\n        axios\r\n        .get(\r\n        `${process.env.REACT_APP_API_URL}/api/campaign/statistics/${campaignId}`)\r\n        .then( (response) => {\r\n        console.log(\"response data from axios request\", response.data)\r\n    this.setState({ campaigns: response.data})\r\n    \r\n    })\r\n    .catch( (err) => console.log(err));\r\n    }\r\n\r\n    deleteCampaign = () => {const { id } = this.props.match.params;\r\n\r\n    axios.delete(\r\n        `${process.env.REACT_APP_API_URL}/api/campaign/deletecampaign/${id}` )\r\n    .then(() => this.props.history.push('/campaign/advertiser'))\r\n    .catch((err) => console.log(err));\r\n}\r\n    \r\n    render() {\r\n\r\n        return (\r\n            <div className=\"backImage\">\r\n            <div className=\"form\">\r\n            <h1> Campaign Statistic</h1>\r\n\r\n                <h2>Campaign name: {this.state.campaigns.campaignname}</h2>\r\n\r\n                <p> Total clicks: 0</p>\r\n                <p> CTR: No data yet</p>\r\n                <p> Times on page: 0</p>\r\n                <p> Pages visited after: </p>\r\n                <p> Banner views: 0</p>\r\n                <p> video views: 0</p>\r\n\r\n<Link className=\"buttons colors\" to={'/campaign/advertiser'}>\r\n     Your campaigns\r\n</Link>\r\n\r\n<Link className=\"buttons colors\" to={`/campaign/edit/${this.state.campaigns._id}`}>\r\n   Edit your campaign\r\n</Link>\r\n\r\n<button className=\"buttons\" onClick = {this.deleteCampaign}>\r\n    Delete Campaign\r\n</button>\r\n\r\n</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default withAuth(Statistics);","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withAuth } from './../context/auth-context';\r\n\r\nclass Signup extends Component {\r\n  state = { email: \"\", password: \"\" };\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    const { email, password } = this.state;\r\n    console.log(email)\r\n    this.props.signup( email, password );\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    const { email, password } = this.state;\r\n    return (\r\n      <div>\r\n        <h1>Sign Up</h1>\r\n\r\n        <form className= \"form\" onSubmit={this.handleFormSubmit}>\r\n\r\n          <label>email:</label>\r\n          <input type=\"text\" name=\"email\" value={email} onChange={this.handleChange} />\r\n\r\n          <label>Password:</label>\r\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\r\n\r\n          <input type=\"submit\" value=\"Signup\" />\r\n        </form>\r\n        \r\n        <p>Already have account?</p>\r\n        <Link className=\"buttons\" to={\"/login\"}> Login</Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default withAuth(Signup);\r\n\r\n\r\n// const EnhancedSignup = withAuth(Signup)\r\n// export default EnhancedSignup;","import React, { Component } from \"react\";\r\nimport { withAuth } from './../context/auth-context';\r\n\r\nclass Login extends Component {\r\n  state = { email: \"\", password: \"\" };\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    const { email, password } = this.state;\r\n    // Call funciton coming from AuthProvider ( via withAuth )\r\n    this.props.login(email, password);\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    const { email, password } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <h1>Login</h1>\r\n\r\n        <form className= \"form\" onSubmit={this.handleFormSubmit}>\r\n          \r\n          <label>email</label>\r\n          <input type=\"text\" name=\"email\" value={email} onChange={this.handleChange}/>\r\n\r\n          <label>Password:</label>\r\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\r\n\r\n          <input className=\"buttons\" type=\"submit\" value=\"Login\" />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Login);\r\n","import React, { Component } from \"react\";\r\nimport { withAuth } from './../context/auth-context';\r\n\r\nclass Private extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Private Route</h1>\r\n        <h2>Welcome {this.props.user && this.props.user.email}</h2>\r\n        {/* \r\n        <h2>Welcome {this.props.user ? this.props.user.username : null }</h2> \r\n        */}\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default withAuth(Private);\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { withAuth } from './../context/auth-context';\r\n\r\n// Route that only allows access to a user who is not logged in\r\n\r\nfunction AnonRoute (routeProps) {\r\n  // Value coming from `AuthProvider` ( via `withAuth` )\r\n  const { isLoggedIn, isLoading } = routeProps;\r\n\r\n  // Values coming from the AnonRoute itself\r\n  const ComponentToShow = routeProps.component;\r\n  const { exact, path } = routeProps;\r\n\r\n  // If AuthProvider is still making request to check the user\r\n  if (isLoading) return 'Loading';\r\n\r\n  return (\r\n    <Route\r\n      exact={exact}\r\n      path={path}\r\n      render={\r\n        function(props) {\r\n          if (isLoggedIn) return <Redirect to=\"/campaignSetup\" />\r\n          else if (! isLoggedIn) return <ComponentToShow {...props} />\r\n        }\r\n      }\r\n     />\r\n    )\r\n}\r\n\r\n\r\nexport default withAuth(AnonRoute);\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { withAuth } from './../context/auth-context';\r\n\r\n// Route that forbids access to a user who is not logged in\r\n\r\nfunction PrivateRoute (routeProps) {\r\n  // Value coming from `AuthProvider` ( via `withAuth` )\r\n  const { isLoggedIn, isLoading } = routeProps;\r\n\r\n  // Values coming from the PrivateRoute itself\r\n  const ComponentToShow = routeProps.component;\r\n  const { exact, path } = routeProps;\r\n\r\n  // If AuthProvider is still making request to check the user\r\n  if (isLoading) return 'Loading';\r\n\r\n  return (\r\n    <Route\r\n      exact={exact}\r\n      path={path}\r\n      render={\r\n        function(props) {\r\n          if (! isLoggedIn) return <Redirect to=\"/login\" />;\r\n          else if (isLoggedIn) return <ComponentToShow {...props} />;\r\n        }\r\n      }\r\n     />\r\n    )\r\n}\r\n\r\n\r\nexport default withAuth(PrivateRoute);\r\n\r\n\r\n/* \r\n// Concise way\r\nfunction PrivateRoute({ component: Component, isLoggedIn, ...rest }) {\r\n  return (\r\n   <Route\r\n    {...rest}\r\n    render={ (props)  => isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />}\r\n   /> \r\n)} \r\n*/\r\n","import React, { Component } from \"react\";\r\nimport { withAuth } from \"../../context/auth-context\";\r\nimport axios from \"axios\";\r\n\r\nclass EditCampaign extends Component {\r\n  state = {\r\n    campaignname: \"\",\r\n    endingdate: \"\",\r\n    budget: \"\",\r\n    image: \"\",\r\n    age: \"\",\r\n    gender: \"\",\r\n    country: \"\",\r\n    interests: \"\",\r\n    operatingsystem: \"\",\r\n    education: \"\",\r\n    jobfunction: \"\",\r\n    campaign: {}\r\n  };\r\ncomponentDidMount() {\r\n  this.getOneCampaign()\r\n}\r\n  handleFormSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const {\r\n      campaignname,\r\n      endingdate,\r\n      budget,\r\n      image,\r\n      age,\r\n      gender,\r\n      country,\r\n      interests,\r\n      operatingsystem,\r\n      education,\r\n      jobfunction,\r\n    } = this.state;\r\n\r\n\r\n    const { id } = this.props.match.params;\r\nconsole.log(id,campaignname,\r\n  endingdate,\r\n  budget,\r\n  image,\r\n  age,\r\n  gender,\r\n  country,\r\n  interests,\r\n  operatingsystem,\r\n  education,\r\n  jobfunction)\r\n    axios.post(`${process.env.REACT_APP_API_URL}/api/campaign/edit/${id}`, {\r\n        campaignname,\r\n        endingdate,\r\n        budget,\r\n        image,\r\n        age,\r\n        gender,\r\n        country,\r\n        interests,\r\n        operatingsystem,\r\n        education,\r\n        jobfunction,\r\n      })\r\n      .then((response) => {\r\n        console.log(response);\r\n        this.props.history.push(\"/campaign/advertiser\");\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n\r\n  deleteCampaign = () => {const { id } = this.props.match.params;\r\n\r\n    axios.delete(\r\n        `${process.env.REACT_APP_API_URL}/api/campaign/deletecampaign/${id}` )\r\n    .then(() => this.props.history.push('/campaign/advertiser'))\r\n    .catch((err) => console.log(err));\r\n}\r\n\r\n  handleChange = (event) => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  handleFileUpload = (e) => {\r\n    console.log(\"The file to be uploaded is: \", e.target.files);\r\n    const file = e.target.files[0];\r\n\r\n    const uploadData = new FormData();\r\n    // image => this name has to be the same as in the model since we pass\r\n    // req.body to .create() method when creating a new project in '/api/projects' POST route\r\n    uploadData.append(\"image\", file);\r\n\r\n    axios\r\n      .post(`${process.env.REACT_APP_API_URL}/api/upload`, uploadData, {\r\n        withCredentials: true,\r\n      })\r\n      .then((response) => {\r\n        console.log(\"response is: \", response);\r\n        // after the console.log we can see that response carries 'secure_url' which we can use to update the state\r\n        this.setState({ image: response.data.secure_url });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"Error while uploading the file: \", err);\r\n      });\r\n  };\r\n\r\n\r\n\r\n  getOneCampaign = () => {\r\n    const { id } = this.props.match.params\r\n    console.log(\"id\", id)\r\n    axios.get(`${process.env.REACT_APP_API_URL}/api/onecampaign/${id}`)\r\n    .then((apiResponse) => {\r\n      console.log(\"apirespons\", apiResponse )\r\n      const {campaignname,\r\n        endingdate,\r\n        budget,\r\n        image,\r\n        age,\r\n        gender,\r\n        country,\r\n        interests,\r\n        operatingsystem,\r\n        education,\r\n        jobfunction} = apiResponse.data\r\n      this.setState({campaignname,\r\n        endingdate,\r\n        budget,\r\n        image,\r\n        age,\r\n        gender,\r\n        country,\r\n        interests,\r\n        operatingsystem,\r\n        education,\r\n        jobfunction  })\r\n    }).catch((err) => {console.log(err)}) \r\n  }\r\n\r\n  render() {\r\n    console.log(\"anything\", this.state.campaign.country)\r\n    return (\r\n\r\n      <div className=\"backImage edit\">\r\n        <form className= \"form\" onSubmit={this.handleFormSubmit}>\r\n          <label>campaignname:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"campaignname\"\r\n            value={this.state.campaignname}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <label>endingdate:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"endingdate\"\r\n            value={this.state.endingdate}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <label>budget:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"budget\"\r\n            value={this.state.budget}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <label>image:</label>\r\n          <input\r\n            type=\"file\"\r\n            name=\"image\"\r\n            onChange={this.handleFileUpload}\r\n\r\n            \r\n          />\r\n\r\n            <img src={this.state.image} />\r\n\r\n          <label>age:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"age\"\r\n            value={this.state.age}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <label>gender:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"gender\"\r\n            value={this.state.gender}\r\n            onChange={this.handleChange}\r\n            \r\n          />\r\n\r\n          <label>country:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"country\"\r\n            value={this.state.country}\r\n            onChange={this.handleChange}\r\n            defaultValue = {this.state.campaign.country}\r\n            key={`${Math.floor((Math.random() * 1000))}-min`}\r\n          />\r\n\r\n          <label>interests:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"interests\"\r\n            value={this.state.interests}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <label>operatingsystem:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"operatingsystem\"\r\n            value={this.state.operatingsystem}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <label>education:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"education\"\r\n            value={this.state.education}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <label>jobfunction:</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"jobfunction\"\r\n            value={this.state.jobfunction}\r\n            onChange={this.handleChange}\r\n          />\r\n\r\n          <button className=\"buttons\" type=\"submit\">Edit Campaign</button>\r\n\r\n          <button className=\"buttons\" onClick = {this.deleteCampaign}>\r\n            Delete Campaign\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(EditCampaign);\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport Navbar from './components/Navbar';\r\nimport CampaignSetup from './pages/campaignSetup/CampaignSetup';\r\nimport AdvertiserProfile from './pages/advertiserProfile/AdvertiserProfile';\r\nimport Statistics from './pages/statistics/Statistics';\r\nimport Signup from './pages/Signup';\r\nimport Login from './pages/Login';\r\nimport Private from './pages/Private';\r\n\r\nimport AnonRoute from './components/AnonRoute';\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport EditCampaign from './pages/editCampaign/EditCampaign';\r\n\r\n\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <Navbar />\r\n\r\n        <Switch>\r\n\r\n          <PrivateRoute exact path=\"/\" component={AdvertiserProfile} />\r\n\r\n          <PrivateRoute exact path=\"/campaignSetup\" component={CampaignSetup} />\r\n          \r\n          <PrivateRoute exact path=\"/campaign/advertiser\" component={AdvertiserProfile} />\r\n\r\n          <PrivateRoute exact path=\"/campaign/edit/:id\" component={EditCampaign} />\r\n\r\n          <PrivateRoute exact path=\"/campaign/statistics/:id\" component={Statistics} />\r\n\r\n          <AnonRoute exact path=\"/signup\" component={Signup} />\r\n          <AnonRoute exact path=\"/login\" component={Login} />\r\n\r\n          <PrivateRoute exact path=\"/private\" component={Private} />\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport App from './App';\r\n\r\nimport { AuthProvider } from './context/auth-context';\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <AuthProvider>\r\n      <App />\r\n    </AuthProvider>\r\n  </Router>\r\n, document.getElementById('root'));\r\n"],"sourceRoot":""}