{"version":3,"sources":["lib/auth-service.js","context/auth-context.js","components/Navbar.js","pages/campaignSetup/CampaignSetup.js","pages/advertiserProfile/AdvertiserProfile.js","pages/statistics/Statistics.js","pages/Signup.js","pages/Login.js","pages/Private.js","components/AnonRoute.js","components/PrivateRoute.js","App.js","index.js"],"names":["authService","this","auth","axios","create","baseURL","process","withCredentials","email","password","post","then","response","data","get","React","createContext","Consumer","Provider","AuthProvider","state","isLoggedIn","isLoading","user","signup","setState","catch","err","login","logout","console","log","me","value","props","children","Component","withAuth","WrappedComponent","className","to","id","onClick","firstname","lastname","companyname","campaignname","startingdate","endingdate","budget","image","age","gender","country","interests","operatingsystem","education","jobfunction","handleChange","event","target","name","handleFormSubmit","preventDefault","_id","onSubmit","type","onChange","campaigns","map","deleteCampaign","match","params","delete","history","push","campaignId","on","click","routeProps","ComponentToShow","component","exact","path","render","App","CampaignSetup","AdvertiserProfile","Statistics","Signup","Login","Private","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.71a41bef.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nclass AuthService {\r\n  constructor() {\r\n    this.auth = axios.create({\r\n      // baseURL: \"http://localhost:5000\",\r\n      baseURL: process.env.REACT_APP_API_URL,\r\n      withCredentials: true\r\n    });\r\n  }\r\n\r\n  signup( email, password ) {\r\n    const pr = this.auth\r\n      .post(\"/auth/signup\", { email, password })\r\n      .then((response) => response.data);\r\n      // .then(({ data }) => data); // Shorter way of `.then((response) => response.data);`\r\n\r\n    return pr;\r\n  }\r\n\r\n  login( email, password ) {\r\n    const pr = this.auth\r\n      .post(\"/auth/login\", { email, password })\r\n      .then((response) => response.data);\r\n      \r\n    return pr;\r\n  }\r\n\r\n  logout() {\r\n    const pr = this.auth\r\n      .get(\"/auth/logout\")\r\n      .then((response) => response.data);\r\n\r\n    return pr;\r\n  }\r\n\r\n  me() {\r\n    const pr = this.auth\r\n      .get(\"/auth/me\")\r\n      .then((response) => response.data);\r\n\r\n    return pr;\r\n  }\r\n}\r\n\r\n\r\nconst authService = new AuthService();\r\n\r\nexport default authService;\r\n\r\n// Service is a set of methods abstracted and placed into a class, out of which we create one instance.\r\n// In the above case, all axios request calls are abstracted into methods.\r\n","import React from 'react';\r\nimport authService from './../lib/auth-service';\r\n\r\nconst { Consumer, Provider } = React.createContext();\r\n\r\n\r\nclass AuthProvider extends React.Component {\r\n  state = {\r\n    isLoggedIn: false,\r\n    isLoading: true,\r\n    user: null\r\n  }\r\n\r\n  componentDidMount () {\r\n    authService.me()\r\n     .then((user) => this.setState({ isLoggedIn: true, user: user, isLoading: false }))\r\n     .catch((err) => this.setState({ isLoggedIn: false, user: null, isLoading: false }));\r\n  }\r\n\r\n  signup = (email, password) => {\r\n    authService.signup( email, password )\r\n      .then((user) => this.setState({ isLoggedIn: true, user }) )\r\n      .catch((err) => {\r\n        this.setState({ isLoggedIn: false, user: null });\r\n      })\r\n  }\r\n\r\n  login = (email, password) => {\r\n    authService.login( email, password )\r\n      .then((user) => this.setState({ isLoggedIn: true, user }))\r\n      .catch((err) => {\r\n        this.setState({ isLoggedIn: false, user: null });\r\n      })\r\n  }\r\n\r\n  logout = () => {\r\n    authService.logout()\r\n      .then(() => this.setState({ isLoggedIn: false, user: null }))\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n\r\n  render() {\r\n    const { isLoggedIn, isLoading, user } = this.state;\r\n    const { signup, login, logout } = this;\r\n\r\n    if (isLoading) return <p>Loading</p>;\r\n\r\n    return(\r\n      <Provider value={{ isLoggedIn, isLoading, user, signup, login, logout }}  >\r\n        {this.props.children}\r\n      </Provider>\r\n    )\r\n  }\r\n\r\n}\r\n\r\n\r\n// HOC that converts regular component into a Consumer\r\nconst withAuth = (WrappedComponent) => {\r\n  \r\n  return class extends React.Component {\r\n    render() {\r\n      return(\r\n        <Consumer>\r\n          { (value) => {\r\n            const { isLoggedIn, isLoading, user, signup, login, logout } = value;\r\n\r\n            return (<WrappedComponent \r\n                      {...this.props}\r\n                      isLoggedIn={isLoggedIn} \r\n                      isLoading={isLoading} \r\n                      user={user} \r\n                      signup={signup} \r\n                      login={login} \r\n                      logout={logout}\r\n                    />)\r\n\r\n          } }\r\n        </Consumer>\r\n        )\r\n    }\r\n}\r\n}\r\n\r\n\r\nexport { AuthProvider, withAuth }","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { withAuth } from './../context/auth-context';\r\n\r\nclass Navbar extends Component {\r\n  render() {\r\n    // const { user, logout, isLoggedin } = this.props;\r\n    return (\r\n      <nav className=\"navbar\">\r\n        <Link to={'/'} id='home-btn'>\r\n          <h4>Home</h4>\r\n        </Link>\r\n        {this.props.isLoggedIn ? (\r\n          <>\r\n            <p>username: {this.props.user && this.props.user.email}</p>\r\n            <button onClick={this.props.logout}>Logout</button>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Link to=\"/login\">\r\n              <button className=\"navbar-button\">Login</button>{' '}\r\n            </Link>\r\n            <br />\r\n            <Link to=\"/signup\">\r\n              <button className=\"navbar-button\">Sign Up</button>{' '}\r\n            </Link>\r\n          </>\r\n        )}\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Navbar);\r\n","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport {withAuth} from '../../context/auth-context';\r\n\r\n\r\n\r\nclass CampaignSetup extends Component {\r\n  \r\n  state = {\r\n    firstname: '',\r\n    lastname: '',\r\n    companyname: '',\r\n    campaignname: '',\r\n    startingdate: '',\r\n    endingdate: '',\r\n    budget: '',\r\n    image: '',\r\n    age: '',\r\n    gender: '',\r\n    country: '',\r\n    interests: '', \r\n    operatingsystem: '', \r\n    education: '', \r\n    jobfunction: ''\r\n  }\r\n  \r\n\r\n  handleChange = (event) =>{\r\n    const {name, value} = event.target;\r\n    this.setState( { [name]: value} );\r\n  }\r\n\r\n\r\n  handleFormSubmit = (event) => {\r\n    event.preventDefault();\r\n\r\n    const {firstname, lastname, companyname, campaignname, startingdate, endingdate, budget, image, age, gender, country, interests, operatingsystem, education, jobfunction } = this.state;\r\n\r\n    axios.post(\r\n      `${process.env.REACT_APP_API_URL}/api/campaign/${this.props.user._id}`, { firstname, lastname, companyname, campaignname, startingdate, endingdate, budget, image, age, gender, country, interests, operatingsystem, education, jobfunction })\r\n\r\n    .then( () => {\r\n      this.setState({ firstname: '', lastname: '', companyname: '', campaignname: '', startingdate: '', endingdate: '', budget: '', image: '', age: '', gender: '', country: '', interests: '', operatingsystem: '', education: '', jobfunction: '' });\r\n    })\r\n    .catch( (err) => console.log(err) )\r\n  }\r\n  \r\n  \r\n  \r\n  render() {\r\n    \r\n    return (\r\n      <div>\r\n        <form onSubmit={this.handleFormSubmit}>\r\n\r\n        <label> First name:</label>\r\n        <input type= \"text\" name=\"firstname\" onChange={this.handleChange} value= {this.state.firstname} />\r\n\r\n        <label> Last name:</label>\r\n        <input type= \"text\" name=\"lastname\" onChange={this.handleChange} value= {this.state.lastname} />\r\n\r\n        <label> Company name:</label>\r\n        <input type= \"text\" name=\"companyname\" onChange={this.handleChange} value= {this.state.companyname}/>\r\n\r\n        <label> Campaign name:</label>\r\n        <input type= \"text\" name=\"campaignname\" onChange={this.handleChange} value= {this.state.campaignname} />\r\n\r\n        <button type=\"submit\">Create Campaign</button>\r\n        \r\n        \r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\n\r\nexport default withAuth(CampaignSetup);","import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport {withAuth} from '../../context/auth-context';\r\nimport {Link} from 'react-router-dom';\r\n\r\n class AdvertiserProfile extends Component {\r\n    \r\n    state = {\r\n        user: {}\r\n    }    \r\n    componentDidMount (){\r\n        console.log(\"object\", this.props.user._id )\r\n        axios.get(\r\n            `${process.env.REACT_APP_API_URL}/api/users/${this.props.user._id}`)\r\n    .then( (response) => {\r\n        console.log(\"ciao\", response.data)\r\n    this.setState({ user: response.data})\r\n    \r\n    })\r\n    .catch( (err) => console.log(err));\r\n}\r\n\r\n    render() {\r\n        console.log(\"our campaigns\", this.state.user)\r\n        return (\r\n            <div>\r\n            <h2> Your campaigns: </h2>\r\n                {this.state.user.campaigns && this.state.user.campaigns.map((campaigns) => {\r\n                    return(\r\n                        <div key={campaigns._id}>\r\n                            <Link to={'/campaign/statistics/' + campaigns._id}>\r\n                                <h2>{campaigns.campaignname}</h2>\r\n                            </Link>\r\n                        </div>\r\n                    )\r\n                })\r\n                }\r\n\r\n            </div>\r\n        )\r\n    }\r\n    \r\n}\r\n\r\n\r\nexport default withAuth(AdvertiserProfile);","import axios from 'axios';\r\nimport React, { Component } from 'react';\r\nimport {withAuth} from '../../context/auth-context';\r\nimport {Link} from 'react-router-dom';\r\n\r\nclass Statistics extends Component {\r\n    state = {\r\n        campaigns: []\r\n    }\r\n\r\n    componentDidMount (){\r\n        console.log(\"user id from props\", this.props.user._id )\r\n        const campaignId = this.props.match.params.id;\r\n        console.log(campaignId);\r\n        axios\r\n        .get(\r\n        `${process.env.REACT_APP_API_URL}/api/campaign/statistics/${campaignId}`)\r\n        .then( (response) => {\r\n        console.log(\"response data from axios request\", response.data)\r\n    this.setState({ campaigns: response.data})\r\n    \r\n    })\r\n    .catch( (err) => console.log(err));\r\n    }\r\n\r\n    deleteCampaign = () => {const { id } = this.props.match.params;\r\n\r\n    axios.delete(`http://localhost:5000/api/campaign/deletecampaign/${id}` )\r\n    .then(() => this.props.history.push('/campaign/advertiser'))\r\n    .catch((err) => console.log(err));\r\n}\r\n    \r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n            <h1> Campaign Statistic</h1>\r\n\r\n                <h2> {this.state.campaigns.campaignname}</h2>\r\n\r\n                <p> Total clicks: 0</p>\r\n                <p> CTR: No data yet</p>\r\n                <p> Times on page: 0</p>\r\n                <p> Pages visited after: </p>\r\n                <p> Banner views: 0</p>\r\n                <p> video views: 0</p>\r\n                \r\n<button on click={this.props.logout}> Logout</button>\r\n\r\n<Link to={'/campaign/advertiser'}>\r\n    <button> Your campaigns</button>\r\n</Link>\r\n\r\n<Link to={'/editCampaigns'}>\r\n    <button> Edit your campaign</button>\r\n</Link>\r\n\r\n<button onClick = {this.deleteCampaign}>\r\n    Delete Campaign\r\n</button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default withAuth(Statistics);","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { withAuth } from './../context/auth-context';\r\n\r\nclass Signup extends Component {\r\n  state = { email: \"\", password: \"\" };\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    const { email, password } = this.state;\r\n    console.log(email)\r\n    this.props.signup( email, password );\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    const { email, password } = this.state;\r\n    return (\r\n      <div>\r\n        <h1>Sign Up</h1>\r\n\r\n        <form onSubmit={this.handleFormSubmit}>\r\n\r\n          <label>email:</label>\r\n          <input type=\"text\" name=\"email\" value={email} onChange={this.handleChange} />\r\n\r\n          <label>Password:</label>\r\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\r\n\r\n          <input type=\"submit\" value=\"Signup\" />\r\n        </form>\r\n        \r\n        <p>Already have account?</p>\r\n        <Link to={\"/login\"}> Login</Link>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nexport default withAuth(Signup);\r\n\r\n\r\n// const EnhancedSignup = withAuth(Signup)\r\n// export default EnhancedSignup;","import React, { Component } from \"react\";\r\nimport { withAuth } from './../context/auth-context';\r\n\r\nclass Login extends Component {\r\n  state = { email: \"\", password: \"\" };\r\n\r\n  handleFormSubmit = event => {\r\n    event.preventDefault();\r\n    const { email, password } = this.state;\r\n    // Call funciton coming from AuthProvider ( via withAuth )\r\n    this.props.login(email, password);\r\n  };\r\n\r\n  handleChange = event => {\r\n    const { name, value } = event.target;\r\n    this.setState({ [name]: value });\r\n  };\r\n\r\n  render() {\r\n    const { email, password } = this.state;\r\n\r\n    return (\r\n      <div>\r\n        <h1>Login</h1>\r\n\r\n        <form onSubmit={this.handleFormSubmit}>\r\n          \r\n          <label>email</label>\r\n          <input type=\"text\" name=\"email\" value={email} onChange={this.handleChange}/>\r\n\r\n          <label>Password:</label>\r\n          <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\r\n\r\n          <input type=\"submit\" value=\"Login\" />\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withAuth(Login);\r\n","import React, { Component } from \"react\";\r\nimport { withAuth } from './../context/auth-context';\r\n\r\nclass Private extends Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h1>Private Route</h1>\r\n        <h2>Welcome {this.props.user && this.props.user.email}</h2>\r\n        {/* \r\n        <h2>Welcome {this.props.user ? this.props.user.username : null }</h2> \r\n        */}\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default withAuth(Private);\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { withAuth } from './../context/auth-context';\r\n\r\n// Route that only allows access to a user who is not logged in\r\n\r\nfunction AnonRoute (routeProps) {\r\n  // Value coming from `AuthProvider` ( via `withAuth` )\r\n  const { isLoggedIn, isLoading } = routeProps;\r\n\r\n  // Values coming from the AnonRoute itself\r\n  const ComponentToShow = routeProps.component;\r\n  const { exact, path } = routeProps;\r\n\r\n  // If AuthProvider is still making request to check the user\r\n  if (isLoading) return 'Loading';\r\n\r\n  return (\r\n    <Route\r\n      exact={exact}\r\n      path={path}\r\n      render={\r\n        function(props) {\r\n          if (isLoggedIn) return <Redirect to=\"/private\" />\r\n          else if (! isLoggedIn) return <ComponentToShow {...props} />\r\n        }\r\n      }\r\n     />\r\n    )\r\n}\r\n\r\n\r\nexport default withAuth(AnonRoute);\r\n","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { withAuth } from './../context/auth-context';\r\n\r\n// Route that forbids access to a user who is not logged in\r\n\r\nfunction PrivateRoute (routeProps) {\r\n  // Value coming from `AuthProvider` ( via `withAuth` )\r\n  const { isLoggedIn, isLoading } = routeProps;\r\n\r\n  // Values coming from the PrivateRoute itself\r\n  const ComponentToShow = routeProps.component;\r\n  const { exact, path } = routeProps;\r\n\r\n  // If AuthProvider is still making request to check the user\r\n  if (isLoading) return 'Loading';\r\n\r\n  return (\r\n    <Route\r\n      exact={exact}\r\n      path={path}\r\n      render={\r\n        function(props) {\r\n          if (! isLoggedIn) return <Redirect to=\"/login\" />;\r\n          else if (isLoggedIn) return <ComponentToShow {...props} />;\r\n        }\r\n      }\r\n     />\r\n    )\r\n}\r\n\r\n\r\nexport default withAuth(PrivateRoute);\r\n\r\n\r\n/* \r\n// Concise way\r\nfunction PrivateRoute({ component: Component, isLoggedIn, ...rest }) {\r\n  return (\r\n   <Route\r\n    {...rest}\r\n    render={ (props)  => isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />}\r\n   /> \r\n)} \r\n*/\r\n","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport Navbar from './components/Navbar';\r\nimport CampaignSetup from './pages/campaignSetup/CampaignSetup';\r\nimport AdvertiserProfile from './pages/advertiserProfile/AdvertiserProfile';\r\nimport Statistics from './pages/statistics/Statistics';\r\nimport Signup from './pages/Signup';\r\nimport Login from './pages/Login';\r\nimport Private from './pages/Private';\r\n\r\nimport AnonRoute from './components/AnonRoute';\r\nimport PrivateRoute from './components/PrivateRoute';\r\n\r\n\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <Navbar />\r\n\r\n        <Switch>\r\n          <PrivateRoute exact path=\"/campaignSetup\" component={CampaignSetup} />\r\n          \r\n          <PrivateRoute exact path=\"/campaign/advertiser\" component={AdvertiserProfile} />\r\n\r\n          <PrivateRoute exact path=\"/campaign/statistics/:id\" component={Statistics} />\r\n\r\n          <AnonRoute exact path=\"/signup\" component={Signup} />\r\n          <AnonRoute exact path=\"/login\" component={Login} />\r\n\r\n          <PrivateRoute exact path=\"/private\" component={Private} />\r\n        </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport App from './App';\r\n\r\nimport { AuthProvider } from './context/auth-context';\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <AuthProvider>\r\n      <App />\r\n    </AuthProvider>\r\n  </Router>\r\n, document.getElementById('root'));\r\n"],"sourceRoot":""}